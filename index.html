<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Flight of Resistance</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background: #e1e8eb;
      }
    </style>
  </head>
  <body>
    <script>
      let angle = 0;
      let bird;
      let airResistance = -0.02;

      function setup() {
        createCanvas(windowWidth, windowHeight);
        bird = new Bird();
      }

      function draw() {
        background('#e1e8eb');
        bird.fly();
        bird.display();
      }

      class Bird {
        constructor() {
          this.pos = createVector(width / 2, height / 2);
          this.vel = createVector(2, 0);
          this.gravity = createVector(0, 0.1);
        }

        fly() {
          let resistance = this.vel.copy();
          resistance.mult(airResistance);
          this.vel.add(this.gravity);
          this.vel.add(resistance);

          this.pos.add(this.vel);

          if (this.pos.y > height || this.pos.y < 0) {
            this.vel.y *= -1;
            this.pos.y = constrain(this.pos.y, 0, height);
          }
          if (this.pos.x > width || this.pos.x < 0) {
            this.vel.x *= -1;
            this.pos.x = constrain(this.pos.x, 0, width);
          }

          angle += 0.02;
        }

        display() {
          push();
          translate(this.pos.x, this.pos.y);
          rotate(angle);
          fill('#ff6f61');
          noStroke();
          ellipse(0, 0, 40, 15); // Body
          pop();
        }
      }
    </script>
  </body>
</html>